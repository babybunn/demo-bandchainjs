{"ast":null,"code":"import { Client, Wallet, Obi, Message, Coin, Transaction, Fee } from \"@bandprotocol/bandchain.js\";\nimport moment from \"moment\";\nconst grpcUrl = \"https://laozi-testnet4.bandchain.org/grpc-web\";\nconst client = new Client(grpcUrl);\nexport async function getPairPrice(pair, minCount, askCount) {\n  const data = await client.getReferenceData(pair, minCount, askCount);\n  return data;\n}\nexport function getWallet(mnemonic) {\n  const {\n    PrivateKey\n  } = Wallet;\n  const privateKey = PrivateKey.fromMnemonic(mnemonic);\n  const pubkey = privateKey.toPubkey();\n  const sender = pubkey.toAddress().toAccBech32();\n  return {\n    sender,\n    privateKey,\n    pubkey\n  };\n}\nexport async function makeRequest(symbols, multiplier, feeInput, prepareGas, executeGas) {\n  symbols = symbols.toUpperCase().replace(/\\s/g, \"\").split(\",\"); // Step 1: Import a private key for signing transaction\n\n  const {\n    PrivateKey\n  } = Wallet;\n  const mnemonic = \"s\";\n  const privateKey = PrivateKey.fromMnemonic(mnemonic);\n  const pubkey = privateKey.toPubkey();\n  const sender = pubkey.toAddress().toAccBech32(); // Step 2.1: Prepare oracle request's properties\n\n  const obi = new Obi(\"{symbols:[string],multiplier:u64}/{rates:[u64]}\");\n  const calldata = obi.encodeInput({\n    symbols: symbols,\n    multiplier: multiplier\n  });\n  const oracleScriptId = 37;\n  const askCount = 2;\n  const minCount = 1;\n  const clientId = \"from_bandchain.js\";\n  let feeLimit = new Coin();\n  feeLimit.setDenom(\"uband\");\n  feeLimit.setAmount(feeInput); // Step 2.2: Create an oracle request message\n\n  const requestMessage = new Message.MsgRequestData(oracleScriptId, calldata, askCount, minCount, clientId, sender, [feeLimit], prepareGas, executeGas);\n  const txRawBytes = await createSignedTransaction(requestMessage, sender, pubkey, privateKey); // Step 4: Broadcast the transaction\n\n  const sendTx = await client.sendTxBlockMode(txRawBytes);\n  if (sendTx) decodeData(sendTx);\n  return sendTx;\n}\n\nfunction decodeData(data) {\n  console.log(data);\n  const obi = new Obi(`  {\n    symbol: string,\n    multiplier: u64\n  } / {\n    price: u64,\n    sources: [{ name: string, time: u64 }]\n  }`); // const decoded = obi.decodeOutput(\n  //   Buffer.from(\n  //     \"0000086df1baab00000000000200000009436f696e4765636b6f000000005eca223d0000000d43727970746f436f6d70617265000000005eca2252\",\n  //     \"hex\"\n  //   )\n  // );\n\n  const encoded = obi.encodeInput({\n    symbol: \"BTC\",\n    multiplier: 1000\n  });\n  const decode = obi.decodeInput(encoded);\n  console.log(decode);\n}\n\nexport const sendCoin = async (address, amount, privateKey, pubkey, sender, action = \"send\") => {\n  const {\n    MsgSend,\n    MsgDelegate\n  } = Message;\n  const receiver = address;\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n  const msg = action === \"delegate\" ? new MsgDelegate(sender, receiver, sendAmount) : new MsgSend(sender, receiver, [sendAmount]);\n  const txRawBytes = await createSignedTransaction(msg, sender, pubkey, privateKey); // Step 5 send the transaction\n\n  const response = await client.sendTxBlockMode(txRawBytes);\n  return response;\n};\nexport const undelegateCoin = async (operator, amount, privateKey, pubkey, sender) => {\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n  const {\n    MsgUndelegate\n  } = Message;\n  const msg = new MsgUndelegate(sender, operator, sendAmount);\n  const txRawBytes = await createSignedTransaction(msg, sender, pubkey, privateKey);\n  const response = await client.sendTxBlockMode(txRawBytes);\n  return response;\n};\nexport const sendIBC = async (address, amount, privateKey, pubkey, sender) => {\n  const {\n    MsgTransfer\n  } = Message; // Here we use different message type, which is MsgSend\n\n  const receiver = address;\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n  const timeoutTimestamp = moment().unix() * 1e9;\n  const msg = new MsgTransfer(\"transfer\", \"channel-25\", sender, receiver, sendAmount, timeoutTimestamp);\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey); // Step 5 send the transaction\n\n  const response = await client.sendTxBlockMode(signedTx);\n  return response;\n};\nexport const createDataSource = async (title, code, sender, owner, treasury, privateKey, pubkey, ...desc) => {\n  const {\n    MsgCreateDataSource\n  } = Message;\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const msg = MsgCreateDataSource(title, code, [feeCoin], treasury, owner, sender, desc); // const msg = new Message.MsgCreateDataSource(title, code, [feeCoin], treasury, owner, sender);\n\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey); // Step 5 send the transaction\n\n  const response = await client.sendTxBlockMode(signedTx);\n  return response;\n};\nexport const editDataSource = async (id, code, sender, owner, privateKey, pubkey, ...args) => {\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const msg = new Message.MsgEditDataSource(parseInt(id), code, [feeCoin], owner, sender);\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey); // Step 5 send the transaction\n\n  const response = await client.sendTxBlockMode(signedTx);\n  return response;\n};\nexport async function createOracleScript(title, desc, schema, source_code_url, code, sender, owner, privateKey, pubkey) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const requestMessage = new Message.MsgCreateOracleScript(title, desc, schema, source_code_url, Buffer.from(code), owner, sender);\n  const signedTx = await createSignedTransaction(requestMessage, sender, pubkey, privateKey);\n  const sendTx = await client.sendTxBlockMode(signedTx);\n  return sendTx;\n}\nexport async function createMsgEditOS(id, title, desc, schema, source_code_url, code, sender, owner, privateKey, pubkey) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const requestMessage = new Message.MsgEditOracleScript(id, title, desc, schema, source_code_url, Buffer.from(code), owner, sender);\n  const signedTx = await createSignedTransaction(requestMessage, sender, pubkey, privateKey);\n  const sendTx = await client.sendTxBlockMode(signedTx);\n  return sendTx;\n}\nexport async function getRawPreview(title, desc, schema, source_code_url, code, sender, owner, privateKey, pubkey) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const requestMessage = new Message.MsgCreateOracleScript(title, desc, schema, source_code_url, Buffer.from(code), owner, sender);\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(requestMessage);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"\");\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n  const txRawBytes = txn.getTxData(signature, pubkey);\n  return txRawBytes;\n}\nexport async function getRawPreviewEditOs(title, desc, schema, source_code_url, code, sender, owner, privateKey, pubkey) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const requestMessage = new Message.MsgCreateOracleScript(title, desc, schema, source_code_url, Buffer.from(code), owner, sender);\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(requestMessage);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"\");\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n  const txRawBytes = txn.getTxData(signature, pubkey);\n  return txRawBytes;\n}\nexport async function withdrawReward(delegator, validator, sender, pubkey, privateKey) {\n  const msg = new Message.MsgWithdrawDelegatorReward(delegator, validator);\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey);\n  const response = await client.sendTxBlockMode(signedTx);\n  return response;\n}\nexport async function createSignedTransaction(msg, sender, pubkey, privateKey) {\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(msg);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"From Bandchain.js Demo App\");\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n  const txRawBytes = txn.getTxData(signature, pubkey);\n  return txRawBytes;\n}","map":{"version":3,"sources":["/Users/pangp/Band/demo-bandchainjs/src/band.js"],"names":["Client","Wallet","Obi","Message","Coin","Transaction","Fee","moment","grpcUrl","client","getPairPrice","pair","minCount","askCount","data","getReferenceData","getWallet","mnemonic","PrivateKey","privateKey","fromMnemonic","pubkey","toPubkey","sender","toAddress","toAccBech32","makeRequest","symbols","multiplier","feeInput","prepareGas","executeGas","toUpperCase","replace","split","obi","calldata","encodeInput","oracleScriptId","clientId","feeLimit","setDenom","setAmount","requestMessage","MsgRequestData","txRawBytes","createSignedTransaction","sendTx","sendTxBlockMode","decodeData","console","log","encoded","symbol","decode","decodeInput","sendCoin","address","amount","action","MsgSend","MsgDelegate","receiver","sendAmount","toString","msg","response","undelegateCoin","operator","MsgUndelegate","sendIBC","MsgTransfer","timeoutTimestamp","unix","signedTx","createDataSource","title","code","owner","treasury","desc","MsgCreateDataSource","feeCoin","editDataSource","id","args","MsgEditDataSource","parseInt","createOracleScript","schema","source_code_url","coin","MsgCreateOracleScript","Buffer","from","createMsgEditOS","MsgEditOracleScript","getRawPreview","fee","setAmountList","setGasLimit","chainId","getChainId","txn","withMessages","withSender","withChainId","withFee","withMemo","signDoc","getSignDoc","signature","sign","getTxData","getRawPreviewEditOs","withdrawReward","delegator","validator","MsgWithdrawDelegatorReward"],"mappings":"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","sourcesContent":["import { Client, Wallet, Obi, Message, Coin, Transaction, Fee } from \"@bandprotocol/bandchain.js\";\nimport moment from \"moment\";\n\nconst grpcUrl = \"https://laozi-testnet4.bandchain.org/grpc-web\";\nconst client = new Client(grpcUrl);\n\nexport async function getPairPrice(pair, minCount, askCount) {\n  const data = await client.getReferenceData(pair, minCount, askCount);\n  return data;\n}\n\nexport function getWallet(mnemonic) {\n  const { PrivateKey } = Wallet;\n  const privateKey = PrivateKey.fromMnemonic(mnemonic);\n  const pubkey = privateKey.toPubkey();\n  const sender = pubkey.toAddress().toAccBech32();\n  return { sender, privateKey, pubkey };\n}\n\nexport async function makeRequest(symbols, multiplier, feeInput, prepareGas, executeGas) {\n  symbols = symbols.toUpperCase().replace(/\\s/g, \"\").split(\",\");\n\n  // Step 1: Import a private key for signing transaction\n  const { PrivateKey } = Wallet;\n  const mnemonic = \"s\";\n  const privateKey = PrivateKey.fromMnemonic(mnemonic);\n  const pubkey = privateKey.toPubkey();\n  const sender = pubkey.toAddress().toAccBech32();\n\n  // Step 2.1: Prepare oracle request's properties\n  const obi = new Obi(\"{symbols:[string],multiplier:u64}/{rates:[u64]}\");\n  const calldata = obi.encodeInput({ symbols: symbols, multiplier: multiplier });\n\n  const oracleScriptId = 37;\n  const askCount = 2;\n  const minCount = 1;\n  const clientId = \"from_bandchain.js\";\n\n  let feeLimit = new Coin();\n  feeLimit.setDenom(\"uband\");\n  feeLimit.setAmount(feeInput);\n\n  // Step 2.2: Create an oracle request message\n  const requestMessage = new Message.MsgRequestData(\n    oracleScriptId,\n    calldata,\n    askCount,\n    minCount,\n    clientId,\n    sender,\n    [feeLimit],\n    prepareGas,\n    executeGas\n  );\n\n  const txRawBytes = await createSignedTransaction(requestMessage, sender, pubkey, privateKey);\n\n  // Step 4: Broadcast the transaction\n  const sendTx = await client.sendTxBlockMode(txRawBytes);\n\n  if (sendTx) decodeData(sendTx);\n\n  return sendTx;\n}\n\nfunction decodeData(data) {\n  console.log(data);\n  const obi = new Obi(`  {\n    symbol: string,\n    multiplier: u64\n  } / {\n    price: u64,\n    sources: [{ name: string, time: u64 }]\n  }`);\n  // const decoded = obi.decodeOutput(\n  //   Buffer.from(\n  //     \"0000086df1baab00000000000200000009436f696e4765636b6f000000005eca223d0000000d43727970746f436f6d70617265000000005eca2252\",\n  //     \"hex\"\n  //   )\n  // );\n  const encoded = obi.encodeInput({ symbol: \"BTC\", multiplier: 1000 });\n  const decode = obi.decodeInput(encoded);\n  console.log(decode);\n}\n\nexport const sendCoin = async (address, amount, privateKey, pubkey, sender, action = \"send\") => {\n  const { MsgSend, MsgDelegate } = Message;\n\n  const receiver = address;\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n\n  const msg =\n    action === \"delegate\"\n      ? new MsgDelegate(sender, receiver, sendAmount)\n      : new MsgSend(sender, receiver, [sendAmount]);\n\n  const txRawBytes = await createSignedTransaction(msg, sender, pubkey, privateKey);\n\n  // Step 5 send the transaction\n  const response = await client.sendTxBlockMode(txRawBytes);\n\n  return response;\n};\n\nexport const undelegateCoin = async (operator, amount, privateKey, pubkey, sender) => {\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n\n  const { MsgUndelegate } = Message;\n  const msg = new MsgUndelegate(sender, operator, sendAmount);\n  const txRawBytes = await createSignedTransaction(msg, sender, pubkey, privateKey);\n  const response = await client.sendTxBlockMode(txRawBytes);\n\n  return response;\n};\n\nexport const sendIBC = async (address, amount, privateKey, pubkey, sender) => {\n  const { MsgTransfer } = Message;\n\n  // Here we use different message type, which is MsgSend\n  const receiver = address;\n  const sendAmount = new Coin();\n  sendAmount.setDenom(\"uband\");\n  sendAmount.setAmount((amount * 1e6).toString());\n  const timeoutTimestamp = moment().unix() * 1e9;\n\n  const msg = new MsgTransfer(\n    \"transfer\",\n    \"channel-25\",\n    sender,\n    receiver,\n    sendAmount,\n    timeoutTimestamp\n  );\n\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey);\n\n  // Step 5 send the transaction\n  const response = await client.sendTxBlockMode(signedTx);\n\n  return response;\n};\n\nexport const createDataSource = async (\n  title,\n  code,\n  sender,\n  owner,\n  treasury,\n  privateKey,\n  pubkey,\n  ...desc\n) => {\n  const { MsgCreateDataSource } = Message;\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const msg = MsgCreateDataSource(title, code, [feeCoin], treasury, owner, sender, desc);\n\n  // const msg = new Message.MsgCreateDataSource(title, code, [feeCoin], treasury, owner, sender);\n\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey);\n\n  // Step 5 send the transaction\n  const response = await client.sendTxBlockMode(signedTx);\n\n  return response;\n};\n\nexport const editDataSource = async (id, code, sender, owner, privateKey, pubkey, ...args) => {\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const msg = new Message.MsgEditDataSource(parseInt(id), code, [feeCoin], owner, sender);\n\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey);\n\n  // Step 5 send the transaction\n  const response = await client.sendTxBlockMode(signedTx);\n\n  return response;\n};\n\nexport async function createOracleScript(\n  title,\n  desc,\n  schema,\n  source_code_url,\n  code,\n  sender,\n  owner,\n  privateKey,\n  pubkey\n) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const requestMessage = new Message.MsgCreateOracleScript(\n    title,\n    desc,\n    schema,\n    source_code_url,\n    Buffer.from(code),\n    owner,\n    sender\n  );\n\n  const signedTx = await createSignedTransaction(requestMessage, sender, pubkey, privateKey);\n  const sendTx = await client.sendTxBlockMode(signedTx);\n\n  return sendTx;\n}\n\nexport async function createMsgEditOS(\n  id,\n  title,\n  desc,\n  schema,\n  source_code_url,\n  code,\n  sender,\n  owner,\n  privateKey,\n  pubkey\n) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const requestMessage = new Message.MsgEditOracleScript(\n    id,\n    title,\n    desc,\n    schema,\n    source_code_url,\n    Buffer.from(code),\n    owner,\n    sender\n  );\n\n  const signedTx = await createSignedTransaction(requestMessage, sender, pubkey, privateKey);\n  const sendTx = await client.sendTxBlockMode(signedTx);\n\n  return sendTx;\n}\n\nexport async function getRawPreview(\n  title,\n  desc,\n  schema,\n  source_code_url,\n  code,\n  sender,\n  owner,\n  privateKey,\n  pubkey\n) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const requestMessage = new Message.MsgCreateOracleScript(\n    title,\n    desc,\n    schema,\n    source_code_url,\n    Buffer.from(code),\n    owner,\n    sender\n  );\n\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(requestMessage);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"\");\n\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n\n  const txRawBytes = txn.getTxData(signature, pubkey);\n\n  return txRawBytes;\n}\n\nexport async function getRawPreviewEditOs(\n  title,\n  desc,\n  schema,\n  source_code_url,\n  code,\n  sender,\n  owner,\n  privateKey,\n  pubkey\n) {\n  let coin = new Coin();\n  coin.setDenom(\"uband\");\n  coin.setAmount(\"1000000\");\n\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const requestMessage = new Message.MsgCreateOracleScript(\n    title,\n    desc,\n    schema,\n    source_code_url,\n    Buffer.from(code),\n    owner,\n    sender\n  );\n\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(requestMessage);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"\");\n\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n\n  const txRawBytes = txn.getTxData(signature, pubkey);\n\n  return txRawBytes;\n}\n\nexport async function withdrawReward(delegator, validator, sender, pubkey, privateKey) {\n  const msg = new Message.MsgWithdrawDelegatorReward(delegator, validator);\n  const signedTx = await createSignedTransaction(msg, sender, pubkey, privateKey);\n  const response = await client.sendTxBlockMode(signedTx);\n  return response;\n}\n\nexport async function createSignedTransaction(msg, sender, pubkey, privateKey) {\n  let feeCoin = new Coin();\n  feeCoin.setDenom(\"uband\");\n  feeCoin.setAmount(\"1000\");\n\n  const fee = new Fee();\n  fee.setAmountList([feeCoin]);\n  fee.setGasLimit(1000000);\n  const chainId = await client.getChainId();\n  const txn = new Transaction();\n  txn.withMessages(msg);\n  await txn.withSender(client, sender);\n  txn.withChainId(chainId);\n  txn.withFee(fee);\n  txn.withMemo(\"From Bandchain.js Demo App\");\n\n  const signDoc = txn.getSignDoc(pubkey);\n  const signature = privateKey.sign(signDoc);\n\n  const txRawBytes = txn.getTxData(signature, pubkey);\n\n  return txRawBytes;\n}\n"]},"metadata":{},"sourceType":"module"}